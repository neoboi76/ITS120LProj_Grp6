<title>Home</title>

<!-- Developed by Group 6:
      Ken Aliling
      Anicia Kaela Bonayao
      Carl Norbi Felonia
      Cedrick Miguel Kaneko
      Dino Alfred T. Timbol (Group Leader)
 
Home page -->

<app-nav></app-nav>

<section id="home"> <!-- Hero -->
    <div class="relative bg-[url('/assets/hero.png')] h-[76vh] flex flex-col bg-fixed bg-no-repeat bg-center bg-cover before:absolute before:inset-0 before:bg-black/40 items-center justify-center text-center" >
        <h1 class="font-extrabold bg-gradient-to-r from-cyan-300 to-blue-500 bg-clip-text text-transparent text-4xl sm:text-5xl md:text-7xl drop-shadow-[0_0_8px_rgba(56,189,248,0.7)]  mb-0">
            Powered by AI — Detecting fake news, <br> one claim at a time.
        </h1>
    </div>
    <div class="bg-[#1f1f1f] bg-[url('/assets/Underhero.png')] h-[14vh] bg-no-repeat bg-center bg-cover items-center justify-center text-center mb-0"></div>
</section>

<section> <!-- Verification section -->
    <div
        class="relative bg-[url('/assets/main.png')] min-h-[100vh] flex flex-col xl:flex-row justify-around items-center bg-fixed bg-no-repeat bg-center bg-cover before:absolute before:inset-0 before:bg-black/60 text-white px-6 md:px-10 py-10 md:py-0 gap-8"
    >
        <div class="xl:w-[40%] mt-10 flex flex-col space-y-5 text-left z-10">
            <h1 class="text-4xl md:text-5xl font-semibold leading-snug">
                Driven by AI — Exposing fake news and confirming facts through
                <span
                    class="bg-gradient-to-r from-green-400 via-green-500 to-green-300 bg-clip-text text-transparent drop-shadow-[0_0_8px_rgba(34,197,94,0.7)]"
                >
                    trusted sources
                </span>
            </h1>
            <p class="text-base md:text-lg text-gray-300">
                An AI-powered system designed to detect fake news, verify information
                through reliable sources, and help users stay informed with accurate,
                trustworthy, and up-to-date content that promotes responsible
                information sharing.
            </p>

            <!-- Recent history table -->

            <div 
                class="mt-6 bg-white/10 backdrop-blur-md rounded-xl p-4 shadow-lg border border-white/20 text-base w-full md:w-[100%] max-h-[400px] overflow-y-auto"
            >
                <h2 class="text-xl font-semibold text-green-400 text-center mb-2">Recent History</h2>
                <table class="w-full text-left text-gray-200">
                    <thead class="border-b border-gray-400/40">
                        <tr>
                            <th class="pb-2">Date</th>
                            <th class="pb-2">Claim</th>
                            <th class="pb-2">Status</th>
                            <th class="pb-2">Verdict</th>
                        </tr>
                    </thead>
                    <tbody>
                        @for (item of history; track item) { <!-- Loops through list of most recent verifications (max is 3) -->
                            <tr class="border-b border-gray-400/20 transition-all duration-300 ease-in-out hover:bg-white/20 hover:shadow-lg hover:scale-[1.02]">
                                <td class="py-1 w-[15%] pr-5">{{ item.date | date:'yyyy-MM-dd'}}</td>
                                <td class="cursor-pointer hover:underline"><a routerLink="/entry-details/{{item.verificationId}}" (click)="scrollToTop()">{{ item.claim }}</a></td>
                                <td class="pr-3">{{ item.status }}</td>
                                <td
                                    [class.text-green-400]="item.verdictType === 'TRUE'"
                                    [class.text-red-400]="item.verdictType === 'FALSE'"
                                    [class.text-yellow-400]="item.verdictType === 'UNDEFINED'"
                                    class="font-semibold"
                                >
                                    {{ item.verdictType }}
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>

        <div
            class="mt-40 mb-40 bg-white/10 backdrop-blur-md rounded-2xl shadow-2xl p-8 space-y-6 z-10 w-full max-w-[800px]"
        >
            <h2 class="text-3xl font-semibold text-center text-white">
                NewsCheck
            </h2>

           <!--  Verification area -->
            <div>
                <textarea
                    (keydown.enter)="analyzeInput()"
                    [(ngModel)]="inputText"
                    rows="10"
                    placeholder="Paste article or claim here..."
                    class="w-full p-3 rounded-lg bg-white/90 text-gray-800 text-base focus:outline-none focus:ring-2 focus:ring-green-400 resize-none"
                ></textarea>
            </div>

            <div class="flex flex-col md:flex-row gap-4">
                <input
                    (keydown.enter)="analyzeInput()"
                    type="file"
                    class="file:mr-3 file:py-2 cursor-pointer file:px-4 file:rounded-lg file:border-0 file:bg-green-500 file:text-white hover:file:bg-green-700 text-gray-200 text-base"
                    (change)="onFileSelected($event)"
                />
                <input
                   (keydown.enter)="analyzeInput()"
                    [(ngModel)]="inputLink"
                    type="url"
                    placeholder="Paste article link (optional)"
                    class="flex-1 p-3 rounded-lg bg-white/90 text-gray-800 text-base focus:outline-none focus:ring-2 focus:ring-green-400"
                />
            </div>

            <div class="flex justify-center">
                <button
                    (click)="analyzeInput()"
                    [disabled]="!inputText && !inputLink && !selectedFile || isLoading"
                    [ngClass]="
                        (!inputText && !inputLink && !selectedFile) || isLoading
                        ? 'bg-gray-400 cursor-not-allowed'
                        : 'bg-green-500 hover:bg-green-800 cursor-pointer'
                    "
                    class="px-6 py-2 rounded-lg text-white font-semibold transition"
                    > Scan
                </button>

            </div>

            @if (isLoading) {
                <div class="flex flex-col items-center mt-4 text-gray-300 text-base space-y-2">
                    <div class="h-10 w-10 border-4 border-t-green-400 border-gray-200 rounded-full animate-spin"></div>
                    <p>Analyzing your input... please wait</p>
                </div>
            }

           <!--  Result area -->

            @if (result) {
                <div class="mt-4 bg-blue-100 text-gray-800 rounded-lg p-4 text-xl">
                    <h3 class="font-bold text-blue-700 mb-2">Verified!</h3>
                    <p><Strong>Status:</Strong> {{ result.status }}</p>
                    <p><Strong>Claim:</Strong> {{ result.claim }}</p>
                    <p><Strong>Verdict:</Strong> {{ result.verdict }}</p>
                    <p><strong>Reasoning:</strong> {{ result.reasoning }}</p>
                </div>
            }

            @else if (noResult) {
                <div class="mt-4 bg-red-100 text-gray-800 rounded-lg p-4 text-base">
                    <h3 class="font-bold text-red-700">Error</h3>
                    <p>{{ noResult }}</p>
                </div>
            }


        
        </div>
    </div>
</section>


<app-footer></app-footer>
